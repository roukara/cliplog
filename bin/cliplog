#!/bin/bash

SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"

LOG_FILE="$HOME/.cliplog_history.log"

case "$1" in
  start)
    echo "ðŸ“‹ Starting clipboard monitoring..."
    nohup "$SCRIPT_DIR/cliplog_watcher.sh" >/dev/null 2>&1 &
    echo "âœ… Clipboard watcher is now running in the background."
    ;;

  export)
    echo "ðŸ“„ Exporting clipboard history from the last 24 hours..."
    "$SCRIPT_DIR/cliplog_export.sh"
    ;;

  stop)
    echo "ðŸ›‘ Stopping clipboard monitoring..."
    pkill -f cliplog_watcher.sh
    ;;

  help|--help|-h)
    echo "ðŸ“Œ Usage: cliplog {start|export|stop|help}"
    echo ""
    echo "Commands:"
    echo "  start   - Start clipboard monitoring"
    echo "  export  - Export clipboard history as Markdown"
    echo "  stop    - Stop clipboard monitoring"
    echo "  help    - Show this help message"
    ;;

  *)
    echo "ðŸ“Œ Usage: cliplog {start|export|stop|help}"
    exit 1
    ;;
esac
